<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Accessible Aviation - POC Demo</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>
<body>
    <div class="app-container">
        <header class="app-header">
            <h1><i class="fas fa-plane"></i> Accessible Aviation POC</h1>
            <p>Transforming accessibility in aviation</p>
        </header>

        <nav class="tab-navigation">
            <button class="tab-button active" onclick="switchTab('passenger')">
                <i class="fab fa-whatsapp"></i>
                Passenger Chat
            </button>
            <button class="tab-button" onclick="switchTab('airport')">
                <i class="fas fa-building"></i>
                Airport View
            </button>
            <button class="tab-button" onclick="switchTab('airline')">
                <i class="fas fa-plane-departure"></i>
                Airline View
            </button>
            <button class="tab-button" onclick="switchTab('international')">
                <i class="fas fa-globe"></i>
                International
            </button>
        </nav>

        <main class="tab-content">
            <!-- Passenger Chat Tab -->
            <div id="passenger" class="tab-panel active">
                <div class="chat-container">
                    <div class="chat-header">
                        <div class="chat-info">
                            <div class="avatar">
                                <i class="fas fa-headset"></i>
                            </div>
                            <div>
                                <h3>Accessible Aviation Assistant</h3>
                                <span class="status">Online</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="journey-stage-selector">
                        <div class="journey-table">
                            <!-- Stage Numbers Header -->
                            <div class="stage-numbers-header">
                                <div class="route-label">Route</div>
                                <div class="stage-number-cell">1</div>
                                <div class="stage-number-cell">2</div>
                                <div class="stage-number-cell">3</div>
                                <div class="stage-number-cell">4</div>
                                <div class="stage-number-cell">5</div>
                                <div class="stage-number-cell">6</div>
                                <div class="stage-number-cell">7</div>
                            </div>
                            
                            <!-- Direct Route Row -->
                            <div class="route-row direct-row">
                                <div class="route-header">
                                    <div class="route-title">üì± Direct Route</div>
                                    <div class="route-subtitle">Passenger initiates</div>
                                </div>
                                <div class="stage-cell">
                                    <label class="stage-option">
                                        <input type="radio" name="journeyStage" value="new_user" onchange="updateJourneyStage(this.value)">
                                        <span class="stage-label">üÜï New User</span>
                                    </label>
                                </div>
                                <div class="stage-cell merged" rowspan="2">
                                    <label class="stage-option">
                                        <input type="radio" name="journeyStage" value="on_the_day" onchange="updateJourneyStage(this.value)">
                                        <span class="stage-label">üìÖ On the Day</span>
                                    </label>
                                </div>

                                <div class="stage-cell merged">
                                    <label class="stage-option">
                                        <input type="radio" name="journeyStage" value="departure_airport" onchange="updateJourneyStage(this.value)">
                                        <span class="stage-label">üè¢ Departure Airport</span>
                                    </label>
                                </div>
                                <div class="stage-cell merged">
                                    <label class="stage-option">
                                        <input type="radio" name="journeyStage" value="pre_flight" onchange="updateJourneyStage(this.value)">
                                        <span class="stage-label">üö™ Pre Flight</span>
                                    </label>
                                </div>
                                <div class="stage-cell merged">
                                    <label class="stage-option">
                                        <input type="radio" name="journeyStage" value="on_flight" onchange="updateJourneyStage(this.value)">
                                        <span class="stage-label">‚úàÔ∏è On Flight</span>
                                    </label>
                                </div>
                                <div class="stage-cell merged">
                                    <label class="stage-option">
                                        <input type="radio" name="journeyStage" value="arrival_airport" onchange="updateJourneyStage(this.value)">
                                        <span class="stage-label">üõ¨ Arrival Airport</span>
                                    </label>
                                </div>
                                <div class="stage-cell merged">
                                    <label class="stage-option">
                                        <input type="radio" name="journeyStage" value="after_journey" onchange="updateJourneyStage(this.value)">
                                        <span class="stage-label">üèÅ After Journey</span>
                                    </label>
                                </div>
                            </div>
                            
                            <!-- Airline Route Row -->
                            <div class="route-row airline-row">
                                <div class="route-header">
                                    <div class="route-title">‚úàÔ∏è Airline Route</div>
                                    <div class="route-subtitle">Via airline/aggregator</div>
                                </div>
                                <div class="stage-cell">
                                    <label class="stage-option">
                                        <input type="radio" name="journeyStage" value="entry_via_airline" checked onchange="updateJourneyStage(this.value)">
                                        <span class="stage-label">üìã Entry via Airline</span>
                                    </label>
                                </div>
                                <!-- Merged cells are handled by the direct row above -->
                                <div class="stage-cell merged-hidden"></div>
                                <div class="stage-cell merged-hidden"></div>
                                <div class="stage-cell merged-hidden"></div>
                                <div class="stage-cell merged-hidden"></div>
                                <div class="stage-cell merged-hidden"></div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="chat-messages" id="chatMessages">
                        <!-- Messages will be added dynamically based on journey stage -->
                    </div>
                    
                    <div class="chat-input-container">
                        <div class="chat-input-wrapper">
                            <button class="attachment-btn" onclick="showAttachmentOptions()">
                                <i class="fas fa-paperclip"></i>
                            </button>
                            <input type="text" id="messageInput" placeholder="Type a message..." onkeypress="handleKeyPress(event)">
                            <button class="voice-btn" onclick="toggleVoiceInput()">
                                <i class="fas fa-microphone"></i>
                            </button>
                            <button class="send-btn" onclick="sendMessage()">
                                <i class="fas fa-paper-plane"></i>
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Airport View Tab -->
            <div id="airport" class="tab-panel">
                <div class="dashboard-container">
                    <div class="dashboard-header">
                        <h2><i class="fas fa-building"></i> London Heathrow Airport - Terminal 2</h2>
                        <div class="dashboard-stats">
                            <div class="stat-card">
                                <div class="stat-number" id="statActivePassengers">0</div>
                                <div class="stat-label">Active Passengers</div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-number" id="statConfirmed">0</div>
                                <div class="stat-label">Confirmed Arrivals</div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-number" id="statAvgRating">4.2</div>
                                <div class="stat-label">Avg Rating</div>
                            </div>
                        </div>
                    </div>

                    <div class="airport-subnav">
                        <button class="subnav-button active" onclick="switchAirportView('meeting')"><i class="fas fa-handshake"></i> Meeting View</button>
                        <button class="subnav-button" onclick="switchAirportView('airside')"><i class="fas fa-shoe-prints"></i> Airside View</button>
                        <button class="subnav-button" onclick="switchAirportView('management')"><i class="fas fa-chart-pie"></i> Management</button>
                        <button class="subnav-button" onclick="switchAirportView('feedback')"><i class="fas fa-comments"></i> Reviews & Responses</button>
                    </div>

                    <div class="dashboard-content">
                        <!-- Meeting View -->
                        <div id="meetingView" class="panel">
                            <h3><i class="fas fa-handshake"></i> Meeting Customers</h3>
                            <div class="table-list">
                                <div class="table-header">
                                    <div>Passenger</div>
                                    <div>Flight</div>
                                    <div>Meeting Point</div>
                                    <div>Needs</div>
                                    <div>Status</div>
                                    <div>Actions</div>
                                </div>
                                <div id="meetingList" class="table-body"></div>
                            </div>
                        </div>

                        <!-- Airside View -->
                        <div id="airsideView" class="panel" style="display:none">
                            <h3><i class="fas fa-route"></i> Airside Transfers</h3>
                            <div id="airsideNotifications" class="notice-area"></div>
                            <div class="table-list">
                                <div class="table-header">
                                    <div>Passenger</div>
                                    <div>Waiting At</div>
                                    <div>Gate</div>
                                    <div>Meet Time</div>
                                    <div>Walk Time</div>
                                    <div>Actions</div>
                                </div>
                                <div id="airsideList" class="table-body"></div>
                            </div>
                            <div class="terminal-map-placeholder">
                                <div class="map-box">Terminal map placeholder</div>
                            </div>
                        </div>

                        <!-- Management View -->
                        <div id="managementView" class="panel" style="display:none">
                            <h3><i class="fas fa-chart-pie"></i> Management Dashboard</h3>
                            <div class="cards-grid" id="mgmtKpis"></div>
                            <div class="grid-2">
                                <div class="panel-inner">
                                    <h4>Assistance Mix</h4>
                                    <div id="assistMix" class="bar-list"></div>
                                </div>
                                <div class="panel-inner">
                                    <h4>Today‚Äôs Flow (per hour)</h4>
                                    <div id="hourlyFlow" class="bar-list"></div>
                                </div>
                            </div>
                            <div class="grid-2">
                                <div class="panel-inner">
                                    <h4>On-time to Meet (SLA)</h4>
                                    <div id="slaGauge" class="gauge-box"></div>
                                </div>
                                <div class="panel-inner">
                                    <h4>Top Risk Flags</h4>
                                    <ul id="riskFlags" class="risk-list"></ul>
                                </div>
                            </div>
                        </div>

                        <!-- Reviews & Responses -->
                        <div id="feedbackView" class="panel" style="display:none">
                            <h3><i class="fas fa-comments"></i> Customer Feedback</h3>
                            <div class="table-list">
                                <div class="table-header">
                                    <div>Passenger</div>
                                    <div>Flight</div>
                                    <div>Ratings</div>
                                    <div>Comment</div>
                                    <div>Status</div>
                                    <div>Respond</div>
                                </div>
                                <div id="feedbackList" class="table-body"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Airline View Tab -->
            <div id="airline" class="tab-panel">
                <div class="dashboard-container">
                    <div class="dashboard-header">
                        <h2><i class="fas fa-plane-departure"></i> British Airways - Operations Dashboard</h2>
                        <div class="dashboard-stats">
                            <div class="stat-card">
                                <div class="stat-number" id="alStatPax">0</div>
                                <div class="stat-label">Passengers Today</div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-number" id="alStatBoarded">0</div>
                                <div class="stat-label">Boarded</div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-number" id="alStatRating">4.3</div>
                                <div class="stat-label">Avg Rating</div>
                            </div>
                        </div>
                    </div>

                    <div class="airport-subnav">
                        <button class="subnav-button active" onclick="switchAirlineView('boarding')"><i class="fas fa-person-walking"></i> Boarding</button>
                        <button class="subnav-button" onclick="switchAirlineView('cabin')"><i class="fas fa-id-badge"></i> Cabin Crew</button>
                        <button class="subnav-button" onclick="switchAirlineView('management')"><i class="fas fa-chart-pie"></i> Management</button>
                        <button class="subnav-button" onclick="switchAirlineView('feedback')"><i class="fas fa-comments"></i> Reviews & Responses</button>
                    </div>

                    <div class="dashboard-content">
                        <!-- Boarding View -->
                        <div id="airlineBoardingView" class="panel">
                            <h3><i class="fas fa-person-walking"></i> Boarding Status</h3>
                            <div class="table-list">
                                <div class="table-header">
                                    <div>Passenger</div>
                                    <div>Flight</div>
                                    <div>Status</div>
                                    <div>Location</div>
                                    <div>Gate</div>
                                    <div>Actions</div>
                                </div>
                                <div id="airlineBoardingList" class="table-body"></div>
                            </div>
                        </div>

                        <!-- Cabin Crew View -->
                        <div id="airlineCabinView" class="panel" style="display:none">
                            <h3><i class="fas fa-id-badge"></i> Cabin Crew Brief</h3>
                            <div id="cabinBrief" class="passenger-profiles"></div>
                        </div>

                        <!-- Airline Management View -->
                        <div id="airlineMgmtView" class="panel" style="display:none">
                            <h3><i class="fas fa-chart-pie"></i> Management Dashboard</h3>
                            <div class="cards-grid" id="alMgmtKpis"></div>
                            <div class="grid-2">
                                <div class="panel-inner">
                                    <h4>Assistance Mix</h4>
                                    <div id="alAssistMix" class="bar-list"></div>
                                </div>
                                <div class="panel-inner">
                                    <h4>Route Ratings</h4>
                                    <div id="alRouteRatings" class="bar-list"></div>
                                </div>
                            </div>
                        </div>

                        <!-- Airline Feedback View -->
                        <div id="airlineFeedbackView" class="panel" style="display:none">
                            <h3><i class="fas fa-comments"></i> Customer Feedback</h3>
                            <div class="table-list">
                                <div class="table-header">
                                    <div>Passenger</div>
                                    <div>Flight</div>
                                    <div>Ratings</div>
                                    <div>Comment</div>
                                    <div>Status</div>
                                    <div>Respond</div>
                                </div>
                                <div id="alFeedbackList" class="table-body"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
        
        <!-- International Tab -->
        <div id="international" class="tab-panel">
            <div class="intl-wrap">
                <div class="intl-hero">
                    <h2 id="intlTitle">Accessible travel, made simple</h2>
                    <p id="intlTagline">Personalised assistance that brings airports and airlines together for you.</p>
                </div>
                <div class="intl-controls">
                    <label for="languageSelect" id="intlLangLabel">Language:</label>
                    <select id="languageSelect" onchange="onLanguageChange(this.value)">
                        <option value="en-GB">English (UK)</option>
                        <option value="ar">ÿßŸÑÿπÿ±ÿ®Ÿäÿ©</option>
                    </select>
                </div>
                <div class="intl-grid">
                    <div class="intl-qr">
                        <img id="intlQr" alt="QR code" src=""/>
                        <div class="intl-qr-caption" id="intlQrCaption">Scan to try the demo</div>
                    </div>
                    <div class="intl-points" id="intlPoints">
                        <div class="point"><i class="fas fa-user-shield"></i><span>Support tailored to your needs</span></div>
                        <div class="point"><i class="fas fa-route"></i><span>Meet anywhere: desk, parking or lounge</span></div>
                        <div class="point"><i class="fas fa-handshake"></i><span>Airline + airport, working together</span></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>